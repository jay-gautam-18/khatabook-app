<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Hisaab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
  <script>
    function toggleTheme() {
      const html = document.documentElement;
      if (html.classList.contains('dark')) {
        localStorage.setItem('theme', 'light');
        html.classList.remove('dark');
      } else {
        localStorage.setItem('theme', 'dark');
        html.classList.add('dark');
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.classList.add('dark');
      }
    });

    function toggleEncryptFields() {
      const encryptCheckbox = document.getElementById("encryptCheckbox");
      const passcodeField = document.getElementById("passcodeField");
      passcodeField.classList.toggle("hidden", !encryptCheckbox.checked);
    }

    function toggleShareableFields() {
      const shareableCheckbox = document.getElementById("shareableCheckbox");
      const editPermissionField = document.getElementById("editPermissionField");
      editPermissionField.classList.toggle("hidden", !shareableCheckbox.checked);
    }
  </script>
</head>
<body class="bg-gradient-to-r from-gray-100 to-gray-300 dark:from-gray-900 dark:to-gray-800 text-gray-900 dark:text-gray-100 min-h-screen">
  <!-- Navbar -->
  <header class="bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-800 dark:to-purple-700 text-white p-4 flex items-center justify-between">
    <div class="flex items-center">
      <h1 class="text-2xl font-bold">Khatabook</h1>
    </div>
    <a 
        href="/home"
      onclick="toggleTheme()" 
      class="bg-white text-gray-900 dark:bg-gray-800 dark:text-white py-2 px-4 rounded-lg shadow-md hover:bg-gray-100 dark:hover:bg-gray-700">
      home
    </a>
  </header>

  <div class="max-w-2xl mx-auto bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mt-6">
    <h1 class="text-2xl font-bold mb-6">Create Hisaab</h1>

    <form action="/create" method="post">
      <!-- Hisaab Name -->
      <div class="mb-4">
        <label for="hisaabName" class="block text-lg font-semibold mb-2">Hisaab Name</label>
        <textarea name="name" id="hisaabName" class="w-full border border-gray-300 dark:border-gray-700 rounded-lg p-2 dark:bg-gray-700 dark:text-gray-100" rows="1" placeholder="Enter Hisaab name"></textarea>
      </div>

      <!-- Hisaab Data -->
      <div class="mb-4">
        <label for="hisaabData" class="block text-lg font-semibold mb-2">Hisaab Data</label>
        <textarea name="data" id="hisaabData" class="w-full border border-gray-300 dark:border-gray-700 rounded-lg p-2 dark:bg-gray-700 dark:text-gray-100" rows="4" placeholder="Enter Hisaab data"></textarea>
      </div>

      <!-- Encrypt Checkbox -->
      <div class="mb-4">
        <label class="inline-flex items-center">
          <input name="encryption" type="checkbox"  id="encryptCheckbox" class="mr-2" onclick="toggleEncryptFields()">
          Encrypt this file
        </label>
      </div>
      <!-- Passcode Field (Hidden Initially) -->
      <div id="passcodeField" class="hidden mb-4">
        <label for="passcode" class="block text-lg font-semibold mb-2">Passcode</label>
        <input name="passcode"  type="password" id="passcode" class="w-full border border-gray-300 dark:border-gray-700 rounded-lg p-2 dark:bg-gray-700 dark:text-gray-100" placeholder="Enter passcode">
      </div>

      <!-- Shareable Checkbox -->
      <div class="mb-4">
        <label class="inline-flex items-center">
          <input name="shareable" type="checkbox" id="shareableCheckbox" class="mr-2" onclick="toggleShareableFields()">
          Shareable file
        </label>
      </div>

      <!-- Edit Permission Checkbox (Hidden Initially) -->
      <div id="editPermissionField" class="hidden mb-4">
        <label class="inline-flex items-center">
          <input name="edit" type="checkbox"  id="editPermissionCheckbox" class="mr-2">
          Allow edit permissions
        </label>
      </div>

      <!-- Submit Button -->
      <div>
        <button type="submit" class="bg-blue-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-600">
          Create Hisaab
        </button>
      </div>
    </form>
  </div>
</body>
</html>
